import{_ as a,c as e,o as r,a3 as t}from"./chunks/framework.Cv3JQ2Vj.js";const m=JSON.parse('{"title":"minecraft服务端（Linux）","description":"","frontmatter":{"title":"minecraft服务端（Linux）","date":"2017-12-21T00:00:00.000Z"},"headers":[],"relativePath":"posts/minecraft-fu-wu-duan-linux.md","filePath":"posts/minecraft-fu-wu-duan-linux.md"}'),p={name:"posts/minecraft-fu-wu-duan-linux.md"},n=t('<h1 id="minecraft服务端-linux" tabindex="-1">minecraft服务端（Linux） <a class="header-anchor" href="#minecraft服务端-linux" aria-label="Permalink to &quot;minecraft服务端（Linux）&quot;">​</a></h1><p>MineCraft 是长期运行的，但是 Linux 下只要关闭连接，所有运行在该窗口下的服务都是被 kill，所以我们需要 Screen 来保持我们的 MineCraft 长期运行。</p><h2 id="安装screen" tabindex="-1">安装Screen <a class="header-anchor" href="#安装screen" aria-label="Permalink to &quot;安装Screen&quot;">​</a></h2><p>yum -y install screen</p><p>因为 MineCraft 是使用 Java 写的，服务端也统一使用了 Java ，我们需要安装 Java 环境来让服务端运行起来。</p><h2 id="下载-jre-包" tabindex="-1">下载 JRE 包 <a class="header-anchor" href="#下载-jre-包" aria-label="Permalink to &quot;下载 JRE 包&quot;">​</a></h2><p>安装java环境，首先，我们需要先获取到 JRE 的安装包，可以使用我提供的，也可以到java官方下载页（<a href="https://java.com/en/download/manual.jsp%EF%BC%89%E6%89%BE%E5%88%B0%E6%88%91%E4%BB%AC%E9%9C%80%E8%A6%81%E7%9A%84%E5%8C%85" target="_blank" rel="noreferrer">https://java.com/en/download/manual.jsp）找到我们需要的包</a></p><p>wget <a href="http://download.zhaoshun.org/jre-8u111-linux-x64.tar.gz" target="_blank" rel="noreferrer">http://download.zhaoshun.org/jre-8u111-linux-x64.tar.gz</a></p><p>解压 JRE 包，把之前下载的包解压</p><p>tar -xvf jre-8u111-linux-x64.tar.gz</p><p>配置环境变量</p><p>我们需要打开 profile 文件。</p><p>nano /etc/profile</p><p>将以下内容写入到文件的最后。</p><p>export PATH USER LOGNAME MAIL HOSTNAME HISTSIZE HISTCONTROL export JAVA_HOME=/root/jre1.8.0_111 export PATH=$JAVA_HOME/bin:$PATH export CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar</p><p>接下来执行我们之前写的这些。</p><p>source /etc/profile</p><h2 id="下载与运行服务端" tabindex="-1">下载与运行服务端 <a class="header-anchor" href="#下载与运行服务端" aria-label="Permalink to &quot;下载与运行服务端&quot;">​</a></h2><p>首先先获取服务器核心</p><p>wget <a href="http://download.zhaoshun.org/PaperSpigot-latest.jar" target="_blank" rel="noreferrer">http://download.zhaoshun.org/PaperSpigot-latest.jar</a></p><p>关于如何下载核心我个人比较喜欢的一个镜像站是这个: <a href="http://yivesmirror.com/" target="_blank" rel="noreferrer">http://yivesmirror.com/</a></p><p>下载流程:点左上方downloads，之后选择自己需要的服务端，然后点击download，最后直接点击他的文件名，比如下面这样:</p><p><img src="http://shunzi.qiniudn.com/2017/12/201712216256_6467.png" alt="2.png" title="2.png"></p><p>新建一个 Screen 窗口，格式为screen -S 窗口名称</p><p>screen -S MineCraft</p><p>运行服务端 jar，格式为java -jar 核心文件名.jar</p><p>java -jar PaperSpigot-latest.jar</p><p>同意最终用户许可协议（服务器为什么没开起来呢？因为我们没有同意 eula （最终用户许可协议），想要深入了解的可以在各大搜索引擎搜索一下 Bukkit 等一些服务端之前发生的一些事情。）</p><p>nano eula.txt</p><p>将里面的eula=false<br> 改为 eula=true</p><p>重新运行服务端 jar</p><p>java -jar PaperSpigot-latest.jar</p><p><img src="http://shunzi.qiniudn.com/2017/12/201712213015_6970.png" alt="C{7BSHY9KT46V90{)EV6PWJ.png" title="C{7BSHY9KT46V90{)EV6PWJ.png"></p><p>我们先关闭服务端（经过上面那步我们的服务器其实是开启成功了的，但是因为是在线模式,所以我们是进不了游戏的，我们需要把在线模式关闭，这样我们才能进入）</p><p>stop</p><p>再打开配置文件 server.properties</p><p>nano server.properties</p><p>我们找到online-mode一行，把 true 改成 false</p><p>![9WX<code>JQYA3RX]U%8X}G72WJF.png](http://shunzi.qiniudn.com/2017/12/201712216786_7751.png &quot;9WX</code>JQYA3RX]U%8X}G72WJF.png&quot;)</p><p>修改完成保存。</p><p>tips：</p><p>server-port //这个是占用的端口，默认25565，如果保持默认，那么登陆服务器的时候不用输入端口号<br> online-mode //这个是正版登录，默认为 true ，改成 false 的话普通用户也能登陆<br> max-players //这个是最大人数，默认是20人</p><h2 id="最后一步" tabindex="-1">最后一步 <a class="header-anchor" href="#最后一步" aria-label="Permalink to &quot;最后一步&quot;">​</a></h2><p>再次启动服务器即可</p><p>java -jar PaperSpigot-latest.jar</p><p>当看到如下提示 Done (xxxxxs)! For help， type &quot;help&quot; or &quot;?&quot; 就说明服务器启动成功了！</p><p>![9NX]59<a href="http://shunzi.qiniudn.com/2017/12/201712215069_9567.png" title="9NX]59[X15L0_QJ~{V6I4IV.png" target="_blank" rel="noreferrer">X15L0_QJ~{V6I4IV.png</a></p><p>之后，咱们可以通过对应版本的游戏客户端访问自己的 ip:111.230.5.114<br> 如果修改了端口号则可以通过:111.230.5.114:自己设定的端口号<br> 访问服务器（ MC 的 PC 服务器默认端口为25565）</p><p>常用命令：</p><p>/op 用户名(给某个用户管理员权限)<br> /deop 用户名(去掉某个用户管理员权限)<br> /ban 用户名(封禁某个用户)<br> /unban 用户名(解禁某个用户)<br> /tp 用户名(强制传送到某个用户身边)</p><p>如果我要让mc继续运行要怎么办？<br> 使用putty等软件连接后，先按住Ctrl和a 再按 d 就能回到之前的窗口<br> 之后输入screen -r 窗口名 就可以继续操作MineCraft后台啦!</p>',51),o=[n];function i(l,s,u,c,h,d){return r(),e("div",null,o)}const _=a(p,[["render",i]]);export{m as __pageData,_ as default};
