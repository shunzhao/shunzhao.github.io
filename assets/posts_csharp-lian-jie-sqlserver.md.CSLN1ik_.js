import{_ as e,c as t,o as r,a3 as a}from"./chunks/framework.Cv3JQ2Vj.js";const u=JSON.parse('{"title":"C#连接SQL Server","description":"","frontmatter":{"title":"C#连接SQL Server","date":"2017-04-01T00:00:00.000Z"},"headers":[],"relativePath":"posts/csharp-lian-jie-sqlserver.md","filePath":"posts/csharp-lian-jie-sqlserver.md"}'),p={name:"posts/csharp-lian-jie-sqlserver.md"},o=a('<h1 id="c-连接sql-server" tabindex="-1">C#连接SQL Server <a class="header-anchor" href="#c-连接sql-server" aria-label="Permalink to &quot;C#连接SQL Server&quot;">​</a></h1><p>早上学习了怎么连接SQL Server，并且查数据，所以晚上决定把昨天做的VIP视频解析给更新成V2.0，改动得地方：把接口写活，接口的API通过数据库提取，这样我就可以通过修改数据改更新接口。</p><p>本来想着挺简单，但等到真正写的时候发现单词没记住，只知道思路，不记得单词，早上明明也 想着拍下来，结果没拍。一脸懵逼。最后决定百度。</p><p>而百度到的又和老师讲的不一样，一个一个看，一个一个想。花了1个小时，最后把数据库连接上去了。能通过DataGridView显示出数据库来。</p><p>最后就是提取想要的数据了，我记得这个老师也讲过。还用for循环演示的，就是没记住。遂又百度。C#连接SQL Server怎么取值。又百度了一个多小时。把这个问题给解决了。</p><p>这次从19.33搞到了21.46。最后该记下笔记和记V2.0的源码了</p><p>连接到SQL Server数据库</p><p>new一个打开数据库的实例：</p><p>SqlConnection conn = new SqlConnection();</p><p>连接到数据库的字符串和查询语句(server=&quot;服务器IP，没有可以填“.”或者localhost&quot;；database=&quot;数据库名称&quot;;uid=&quot;数据库用户名&quot;;pwd=&quot;数据库密码&quot;&quot;ps：这一步类似于网站连接数据库的文件)：</p><p>String connsql = &quot;server=.;database=*;uid=*;pwd=*&quot;; String sql = &quot;select api from api&quot;; // 查询语句</p><p>获取用于打开SQL Server数据库的字符串：</p><p>conn.ConnectionString = connsql;</p><p>new一个连接的桥梁，也就是实例化适配器 创建适配器对象，从数据库拿数据(sql语句，连接对象)</p><p>SqlDataAdapter myda = new SqlDataAdapter(sql, conn); // 实例化适配器</p><p>new一个连接的桥梁，也就是实例化数据表 (创建空表格) ：</p><p>DataTable dt = new DataTable(); // 实例化数据表</p><p>保存获取到的数据：</p><p>myda.Fill(dt); // 保存数据</p><p>这样就行了。最后比如你要把数据展示在dataGridView中。这么赋值就行：</p><p>dataGridView1.DataSource = dt; // 设置到DataGridView中</p><p>如果要单独提取到某个数据，可以这么写(老师演示的时候就是这么写的，有印象也记住了，不知为何刚开始就是提取不出来)：</p><p>dt.Rows[0][0]//第一个[0]代表着第几行第二个[0]代表着第几列，从0开始</p><p>列如用变量接收：</p><p>string api1 = dt.Rows[0][0].ToString(); string api2 = dt.Rows[1][0].ToString(); string api3 = dt.Rows[2][0].ToString(); string api4 = dt.Rows[3][0].ToString();</p><p>最后VIP视频解析V2.0源码：<a href="http://download.zhaoshun.org/vipshipinjiexiV2.0.rar" title="本地下载" target="_blank" rel="noreferrer">本地下载</a></p>',26),s=[o];function n(i,d,l,c,S,q){return r(),t("div",null,s)}const h=e(p,[["render",n]]);export{u as __pageData,h as default};
