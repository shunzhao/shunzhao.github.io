import{_ as s,c as i,o as a,a3 as t}from"./chunks/framework.Cv3JQ2Vj.js";const E=JSON.parse('{"title":"Oracle 创建同义词","description":"","frontmatter":{"title":"Oracle 创建同义词","date":"2022-03-07T00:00:00.000Z"},"headers":[],"relativePath":"posts/oracle-chuang-jian-tong-yi-ci.md","filePath":"posts/oracle-chuang-jian-tong-yi-ci.md"}'),n={name:"posts/oracle-chuang-jian-tong-yi-ci.md"},e=t(`<h1 id="oracle-创建同义词" tabindex="-1">Oracle 创建同义词 <a class="header-anchor" href="#oracle-创建同义词" aria-label="Permalink to &quot;Oracle 创建同义词&quot;">​</a></h1><h2 id="同义词的使用场景" tabindex="-1">同义词的使用场景 <a class="header-anchor" href="#同义词的使用场景" aria-label="Permalink to &quot;同义词的使用场景&quot;">​</a></h2><ol><li><p>简化使用</p><p>比如我有A用户和B用户，A用户下拥有Student表，这时我用B用户的身份去执行<strong>select id from student</strong> 会报错 table or view does not exist，此时需要加上用户前缀 <strong>select id from A.student</strong> 才可以访问到该表，为了避免每次都带上前缀可以创建一个公开的同义词简化使用。</p></li><li><p>张冠李戴、指鹿为马</p><p>这个就非常坑人！还是A用户和B用户，两者都可以访问Student表所有数据，后面有一天我又只想让B用户访问姓赵的学生数据，但是又不想让B用户知道，此时就可以创建一个视图，然后将该视图的别名取为Student，这样B用户还是访问的Student表，但是表中的数据其实是另外一个视图提供的</p></li></ol><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- 创建别名，让别的角色也能不带ADMIN前缀直接访问</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- CREATE OR REPLACE PUBLIC SYNONYM 别名 FOR 表名;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">CREATE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> OR</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> REPLACE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> PUBLIC </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SYNONYM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Student_V </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FOR</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> ADMIN</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Student_V</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- 查询当前用户查的别名和表名的映射关系</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> FROM</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> SYS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ALL_SYNONYMS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> t </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">WHERE</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> t</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">owner</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ();</span></span></code></pre></div><p>删除同义词，执行以下SQL：</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- 如果用管理员的身份操作，则执行以下SQL，将OPS$SZ01替换为对应用户</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">DROP</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> SYNONYM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> OPS$</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">SZ01</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Student</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div>`,6),l=[e];function h(p,k,r,d,o,c){return a(),i("div",null,l)}const y=s(n,[["render",h]]);export{E as __pageData,y as default};
